<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>API Instance and Types - Sywac Docs</title>
  <meta name="viewport" content="width=device-width">
  <meta property="og:title" content="API Instance and Types - Sywac Docs">
  <meta property="og:type" content="website">
  <meta property="og:url" content="http://sywac.io">
  <meta property="og:description" content="A better CLI framework, made for the ES2015 era.">
  <link rel="stylesheet" href="/css/sywac.css">
  <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
<link rel="stylesheet" href="/css/prism-okaidia.css" type="text/css"></head>

<body>
  <div class="container">
    <div class="nav-main">
  <div class="wrap">
    <a class="nav-home" href="/"><img class="nav-logo" src="/logo_purple.png" height="50"></a>
    <ul class="nav-site">
      <li><a href="/docs" class="active">Docs</a></li>
      <li><a href="/about" class="">About</a></li>
      <li><a href="https://github.com/sywac/sywac" class="">GitHub</a></li>
    </ul>
  </div>
</div>

    <section class="content wrap documentationContent">
      <!-- start "body" in layout.ejs -->
      <div class="inner-content">
  <!-- start "page.content" in page.ejs -->
  <h1 id="API-Instance-and-Types"><a href="#API-Instance-and-Types" class="headerlink" title="API Instance and Types"></a>API Instance and Types</h1><p>The engine and primary API of sywac is represented by an <code>Api</code> instance, which is exposed in one of two ways:</p>
<ol>
<li><p>Via the main export, as a singleton:</p>
<pre class=" language-js"><code class="language-js"> <span class="token comment" spellcheck="true">// sywac is a singleton Api instance</span>
 <span class="token keyword">const</span> sywac <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'sywac'</span><span class="token punctuation">)</span>
</code></pre>
</li>
<li><p>Via the <code>Api</code> class:</p>
<pre class=" language-js"><code class="language-js"> <span class="token keyword">const</span> Api <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'sywac/api'</span><span class="token punctuation">)</span>
 <span class="token keyword">const</span> sywac <span class="token operator">=</span> Api<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// or new Api()</span>
</code></pre>
</li>
</ol>
<p>An <code>Api</code> instance represents a parsing configuration, which consists primarily of a set of <code>Type</code> instances.</p>
<p>Each <code>Type</code> instance represents one argument or option, along with its datatype, expected by the app.</p>
<p>An option is always specified by a flag (e.g. <code>--flag</code> or <code>-f</code> or <code>--key value</code> or <code>--key=value</code>) while an argument is generally specified by position alone (e.g. <code>program &lt;argument&gt;</code>), which is why they’re referred to as <em>positional</em> arguments or just <em>positionals</em>. For convenience, positional arguments in sywac may also be specified via flag, as long as you define them that way (e.g. <code>program [--arg] &lt;argument&gt;</code>).</p>
<p>The following table lists the types built into sywac along with the <code>Api</code> method(s) used to define/add them. Note that you can also <a href="/docs/custom-types.html">add your own types</a> to sywac.</p>
<table>
<thead>
<tr>
<th><strong>Type</strong></th>
<th><strong><code>Api</code> methods</strong></th>
<th><strong>Factory name</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="/docs/boolean-type.html">Boolean</a> option</td>
<td><code>.boolean(flags, opts)</code></td>
<td><code>&#39;boolean&#39;</code></td>
</tr>
<tr>
<td><a href="/docs/string-type.html">String</a> option</td>
<td><code>.string(flags, opts)</code></td>
<td><code>&#39;string&#39;</code></td>
</tr>
<tr>
<td><a href="/docs/number-type.html">Number</a> option</td>
<td><code>.number(flags, opts)</code></td>
<td><code>&#39;number&#39;</code></td>
</tr>
<tr>
<td><a href="/docs/path-type.html">Path</a> option</td>
<td><code>.path(flags, opts)</code></td>
<td><code>&#39;path&#39;</code></td>
</tr>
<tr>
<td>File option (see <a href="/docs/path-type.html">Path</a>)</td>
<td><code>.file(flags, otps)</code></td>
<td><code>&#39;file&#39;</code></td>
</tr>
<tr>
<td>Directory option (see <a href="/docs/path-type.html">Path</a>)</td>
<td><code>.dir(flags, opts)</code></td>
<td><code>&#39;dir&#39;</code></td>
</tr>
<tr>
<td><a href="/docs/enum-type.html">Enum</a> option</td>
<td><code>.enumeration(flags, opts)</code></td>
<td><code>&#39;enum&#39;</code></td>
</tr>
<tr>
<td><a href="/docs/array-type.html">Array</a> of strings option</td>
<td><code>.array(flags, opts)</code><br><code>.stringArray(flags, opts)</code></td>
<td><code>&#39;array&#39;</code></td>
</tr>
<tr>
<td><a href="/docs/array-type.html">Array</a> of numbers option</td>
<td><code>.numberArray(flags, opts)</code></td>
<td><code>&#39;array&#39;</code></td>
</tr>
<tr>
<td><a href="/docs/help-version-type.html">Help</a> option</td>
<td><code>.help(flags, opts)</code></td>
<td><code>&#39;helpType&#39;</code></td>
</tr>
<tr>
<td><a href="/docs/help-version-type.html">Version</a> option</td>
<td><code>.version(flags, opts)</code></td>
<td><code>&#39;versionType&#39;</code></td>
</tr>
<tr>
<td><a href="/docs/positional-type.html">Positional</a> arguments<br>(without command)</td>
<td><code>.positional(dsl, opts)</code></td>
<td><code>&#39;positional&#39;</code></td>
</tr>
<tr>
<td><a href="/docs/command-positionals.html">Command</a> (with or without<br>positionals)</td>
<td><code>.command(dsl, opts)</code></td>
<td><code>&#39;commandType&#39;</code></td>
</tr>
</tbody>
</table>
<p>Any unexpected/undeclared arguments or options encountered during parsing will automatically be handled by a special <a href="/docs/unknown-type.html">“Unknown” type</a>.</p>
<p>For further details on the <code>flags</code> and <code>opts</code> method parameters, see <a href="/docs/info-types.html">General Type Info</a>.</p>
<p>Internally, the <code>Api</code> instance maps type names to factory methods, which allows for the following:</p>
<ol>
<li><p>Any option type that does not have an explicit <code>Api</code> method (e.g. array of enums) may be added via the <code>.option(flags, opts)</code> method, specifying the <code>type</code> in <code>opts</code>:</p>
<pre class=" language-js"><code class="language-js"> sywac<span class="token punctuation">.</span><span class="token function">option</span><span class="token punctuation">(</span><span class="token string">'-l, --lang &lt;languages..>'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
   type<span class="token punctuation">:</span> <span class="token string">'array:enum'</span><span class="token punctuation">,</span>
   desc<span class="token punctuation">:</span> <span class="token string">'Choose one or more programming languages'</span><span class="token punctuation">,</span>
   choices<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'js'</span><span class="token punctuation">,</span> <span class="token string">'java'</span><span class="token punctuation">,</span> <span class="token string">'go'</span><span class="token punctuation">,</span> <span class="token string">'ruby'</span><span class="token punctuation">,</span> <span class="token string">'rust'</span><span class="token punctuation">]</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
</li>
<li><p>Positional arguments can specify their types via DSL string:</p>
<pre class=" language-js"><code class="language-js"> sywac<span class="token punctuation">.</span><span class="token function">positional</span><span class="token punctuation">(</span><span class="token string">'&lt;arg:file>'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
   paramsDesc<span class="token punctuation">:</span> <span class="token string">'A file that must exist on the local file system'</span><span class="token punctuation">,</span>
   mustExist<span class="token punctuation">:</span> <span class="token boolean">true</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
</li>
<li><p>You can register your own types or override the default ones:</p>
<pre class=" language-js"><code class="language-js"> <span class="token keyword">const</span> TypeString <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'sywac/types/string'</span><span class="token punctuation">)</span>
 <span class="token keyword">class</span> <span class="token class-name">CustomString</span> <span class="token keyword">extends</span> <span class="token class-name">TypeString</span> <span class="token punctuation">{</span>
   <span class="token keyword">get</span> datatype <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">return</span> <span class="token string">'custom'</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
 <span class="token comment" spellcheck="true">// registering a factory for 'string' means that .string(flags, opts)</span>
 <span class="token comment" spellcheck="true">// will now use CustomString instead of the built-in TypeString</span>
 sywac<span class="token punctuation">.</span><span class="token function">registerFactory</span><span class="token punctuation">(</span><span class="token string">'string'</span><span class="token punctuation">,</span> opts <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">new</span> <span class="token class-name">CustomString</span><span class="token punctuation">(</span>opts<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
</li>
</ol>
<p>All configuration methods on an <code>Api</code> instance return the instance and so can be chained together. See <a href="/docs/sync-config.html">Synchronous Configuration</a> for the full API of configuration methods.</p>
<p>Once an <code>Api</code> is fully configured, you can parse program arguments or any string/message (e.g. for a chatbot) via the asynchronous <code>.parse(args)</code> or <code>.parseAndExit(args)</code> methods. If no args are given, <code>process.argv</code> will be parsed by default. Each method returns a <code>Promise</code> that resolves once parsing, validation, and command execution (if any) completes. See <a href="/docs/async-parsing.html">Asynchronous Parsing, Validation, Execution</a> for further details.</p>

  <!-- end "page.content" in page.ejs -->
  
  <div class="docs-prevnext">
    
    <a class="docs-prev" href="/docs">← Previous</a>
    
    
    <a class="docs-next" href="/docs/sync-config.html">Next →</a>
    
  </div>
  
</div>

      <!-- end "body" in layout.ejs -->
      
      <div class="nav-docs">
  <div class="nav-docs-section">
    <h3>General API</h3>
    <ul>
      <li><a style="margin-left:0;" class="" href="/docs">Quick Start Guide</a></li>
      <li><a style="margin-left:0;" class="active" href="/docs/api-and-types.html">API Instance and Types</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/sync-config.html">Synchronous Configuration</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/async-parsing.html">Asynchronous Parsing, Validation, Execution</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/help-text.html">Help Text</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/style-hooks.html">Style Hooks</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/error-handling.html">Error Handling</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/concurrency.html">Concurrency</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/context.html">Context</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/advanced-customizations.html">Advanced Customizations</a></li>
    </ul>
  </div>
  <div class="nav-docs-section">
    <h3>Types</h3>
    <ul>
      <li><a style="margin-left:0;" class="" href="/docs/info-types.html">General Type Info</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/type-lifecycle.html">Type Lifecycle</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/type-properties.html">Common Type Properties</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/boolean-type.html">Boolean</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/help-version-type.html">Help and Version</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/number-type.html">Number</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/string-type.html">String</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/path-type.html">Path / File / Dir</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/enum-type.html">Enum</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/array-type.html">Array</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/unknown-type.html">"Unknown" Type</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/positional-type.html">Positionals</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/command-type.html">Commands</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/custom-types.html">Custom Types</a></li>
    </ul>
  </div>
  <div class="nav-docs-section">
    <h3>Commands</h3>
    <ul>
      <li><a style="margin-left:0;" class="" href="/docs/command-lifecycle.html">Command Lifecycle</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/command-positionals.html">With Positionals</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/command-setup.html">Synchronous Setup Handler</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/command-run.html">Asynchronous Run Handler</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/command-modules.html">Command Modules</a></li>
    </ul>
  </div>
</div>

      
    </section>
    <footer>
  <span>See an error? <a href="https://github.com/sywac/sywac-website/tree/master/source/docs/api-and-types.md">Contribute to this docs site!</a></span>
  <span>Made with ♡ by <a href="https://github.com/nexdrew">nexdrew</a></span>
</footer>

  </div>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-102241941-1', 'auto');
    ga('send', 'pageview');
  </script>
</body>
</html>
