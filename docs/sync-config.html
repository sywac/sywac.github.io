<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Synchronous Configuration - Sywac Docs</title>
  <meta name="viewport" content="width=device-width">
  <meta property="og:title" content="Synchronous Configuration - Sywac Docs">
  <meta property="og:type" content="website">
  <meta property="og:url" content="http://sywac.io">
  <meta property="og:description" content="A better CLI framework, made for the ES2015 era.">
  <link rel="stylesheet" href="/css/sywac.css">
  <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
<link rel="stylesheet" href="/css/prism-okaidia.css" type="text/css"></head>

<body>
  <div class="container">
    <div class="nav-main">
  <div class="wrap">
    <a class="nav-home" href="/"><img class="nav-logo" src="/logo_purple.png" height="50"></a>
    <ul class="nav-site">
      <li><a href="/docs" class="active">Docs</a></li>
      <li><a href="/about" class="">About</a></li>
      <li><a href="https://github.com/sywac/sywac" class="">GitHub</a></li>
    </ul>
  </div>
</div>

    <section class="content wrap documentationContent">
      <!-- start "body" in layout.ejs -->
      <div class="inner-content">
  <!-- start "page.content" in page.ejs -->
  <h1 id="Synchronous-Configuration"><a href="#Synchronous-Configuration" class="headerlink" title="Synchronous Configuration"></a>Synchronous Configuration</h1><p>The API of sywac can be logically separated into two stages of an app’s lifecycle: First is <em>configuration</em>, and second is <em>execution</em>.</p>
<p>This page covers all the methods designed for the configuration stage. Use these methods to configure an <a href="/docs/api-and-types.html"><code>Api</code> instance</a>, which mainly consists of telling it what types to expect (e.g. arguments, options, and commands), defining validation and control flow, and tweaking help text settings.</p>
<p>The following methods are listed in alphabetical order.</p>
<p><a href="#array">.array(flags, opts)</a><br><a href="#boolean">.boolean(flags, opts)</a><br><a href="#check">.check(handler)</a><br><a href="#command">.command(dsl, opts)</a><br><a href="#configure">.configure(opts)</a><br><a href="#custom">.custom(type)</a><br><a href="#dir">.dir(flags, opts)</a><br><a href="#enumeration">.enumeration(flags, opts)</a><br><a href="#epilogue">.epilogue(epilogue)</a><br><a href="#example">.example(example, opts)</a><br><a href="#exampleOrder">.exampleOrder(orderArray)</a><br><a href="#file">.file(flags, opts)</a><br><a href="#groupOrder">.groupOrder(orderArray)</a><br><a href="#help">.help(flags, opts)</a><br><a href="#number">.number(flags, opts)</a><br><a href="#numberArray">.numberArray(flags, opts)</a><br><a href="#option">.option(flags, opts)</a><br><a href="#outputSettings">.outputSettings(settings)</a><br><a href="#path">.path(flags, opts)</a><br><a href="#positional">.positional(dsl, opts)</a><br><a href="#preface">.preface(icon, slogan)</a><br><a href="#registerFactory">.registerFactory(name, factory)</a><br><a href="#showHelpByDefault">.showHelpByDefault(boolean)</a><br><a href="#string">.string(flags, opts)</a><br><a href="#stringArray">.stringArray(flags, opts)</a><br><a href="#style">.style(hooks)</a><br><a href="#usage">.usage(usage)</a><br><a href="#version">.version(flags, opts)</a></p>
<p><a name="array"></a></p>
<h2 id="array-flags-opts"><a href="#array-flags-opts" class="headerlink" title=".array(flags, opts)"></a><code>.array(flags, opts)</code></h2><p><sup>Since 1.0.0</sup></p>
<p>Add a flagged option that should be parsed as an array.</p>
<ul>
<li><p>&nbsp;<code>flags</code>: string, no default</p>
<p>Defines the flags used in help text and aliases to expect when parsing.</p>
<p>For example, <code>&#39;-a, --array &lt;values..&gt;&#39;</code> would allow <code>-a</code> or <code>--array</code> to be given when parsing.</p>
</li>
<li><p>&nbsp;<code>opts</code>: object, no default</p>
<p>In addition to <a href="/docs/type-properties.html">common type properties</a>, the object may also define:</p>
<ul>
<li><p>&nbsp;<code>delimiter</code> or <code>delim</code>: string or RegExp, default <code>&#39;,&#39;</code></p>
<p>A delimiter used to split a single value into multiple values during parsing.</p>
<p>For example, parsing <code>-a one,two</code> would add values <code>&#39;one&#39;</code> and <code>&#39;two&#39;</code> to the array instead of <code>&#39;one,two&#39;</code>.</p>
</li>
<li><p>&nbsp;<code>cumulative</code>: boolean, default <code>true</code></p>
<p>If a flag is given multiple times, should the array value include all values from all flags (default) or only use the value(s) from the last flag given?</p>
<p>For example, parsing <code>-a one two -a three four</code> in cumulative mode would result in an array value of <code>[&#39;one&#39;, &#39;two&#39;, &#39;three&#39;, &#39;four&#39;]</code>. If you turn this off, the result would be only <code>[&#39;three&#39;, &#39;four&#39;]</code>.</p>
</li>
</ul>
</li>
</ul>
<p>Returns the <code>Api</code> instance for method chaining.</p>
<p>Example:</p>
<pre class=" language-js"><code class="language-js">sywac<span class="token punctuation">.</span><span class="token function">array</span><span class="token punctuation">(</span><span class="token string">'-s, --services &lt;a,b,c..>'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  desc<span class="token punctuation">:</span> <span class="token string">'Specify one or more services'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<p>See <a href="/docs/array-type.html">Array</a> for further details and examples.</p>
<p><a name="boolean"></a></p>
<h2 id="boolean-flags-opts"><a href="#boolean-flags-opts" class="headerlink" title=".boolean(flags, opts)"></a><code>.boolean(flags, opts)</code></h2><p><sup>Since 1.0.0</sup></p>
<p>Add a flagged option that should be parsed as a boolean.</p>
<ul>
<li><p>&nbsp;<code>flags</code>: string, no default</p>
<p>Defines the flags used in help text and aliases to expect when parsing.</p>
<p>For example, <code>&#39;-b, --bool&#39;</code> would allow <code>-b</code> or <code>--bool</code> to be given when parsing.</p>
</li>
<li><p>&nbsp;<code>opts</code>: object, no default</p>
<p>See <a href="/docs/type-properties.html">common type properties</a>.</p>
</li>
</ul>
<p>Returns the <code>Api</code> instance for method chaining.</p>
<p>Example:</p>
<pre class=" language-js"><code class="language-js">sywac<span class="token punctuation">.</span><span class="token function">boolean</span><span class="token punctuation">(</span><span class="token string">'-f, --force'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  desc<span class="token punctuation">:</span> <span class="token string">'Run the program regardless of warnings'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<p>See <a href="/docs/boolean-type.html">Boolean</a> for further details and examples.</p>
<p><a name="check"></a></p>
<h2 id="check-handler"><a href="#check-handler" class="headerlink" title=".check(handler)"></a><code>.check(handler)</code></h2><p><sup>Since 1.0.0</sup></p>
<p>Define any custom validation logic to run after all types have been parsed, validated, and coerced. The handler will not be called if help or version are explicitly requested.</p>
<ul>
<li><p>&nbsp;<code>handler</code>: function, no default</p>
<p>An asynchronous function (may return a <code>Promise</code>) which may perform custom validation before control is returned to app logic.</p>
<p>The function should report validation errors using the <code>context.cliMessage(msg)</code> method. If the function throws or returns a rejected <code>Promise</code>, an unexpected error will be given in resolved parsing results. If no messages are added to the <code>context</code> and the handler doesn’t throw or return a rejected <code>Promise</code>, validation is assumed to be successful. If the function returns a <code>Promise</code>, sywac will wait until it resolves or rejects before continuing.</p>
<p>This function will be passed the following two arguments:</p>
<ul>
<li><p>&nbsp;<code>argv</code>: object</p>
<p>An object representing parsed, validated, and coerced values. Each object property represents a mapping of alias to parsed value for each expected or encountered type.</p>
</li>
<li><p>&nbsp;<code>context</code>: <a href="/docs/context.html">Context</a></p>
<p>An instance representing the state of parsing and execution. Validation errors should be reported via the <code>cliMessage(msg)</code> method.</p>
</li>
</ul>
</li>
</ul>
<p>Returns the <code>Api</code> instance for method chaining.</p>
<p>Example:</p>
<pre class=" language-js"><code class="language-js"><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'sywac'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">file</span><span class="token punctuation">(</span><span class="token string">'-f &lt;file>'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    desc<span class="token punctuation">:</span> <span class="token string">'Path to JSON file, optional, implies -k &lt;key>'</span><span class="token punctuation">,</span>
    mustExist<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token string">'-k &lt;key>'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    desc<span class="token punctuation">:</span> <span class="token string">'A key in JSON file, optional, implies -f &lt;file>'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token punctuation">(</span>argv<span class="token punctuation">,</span> context<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>argv<span class="token punctuation">.</span>f <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>argv<span class="token punctuation">.</span>k<span class="token punctuation">)</span> <span class="token keyword">return</span>
    <span class="token comment" spellcheck="true">// sync validation, fail-fast</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>argv<span class="token punctuation">.</span>k<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> context<span class="token punctuation">.</span><span class="token function">cliMessage</span><span class="token punctuation">(</span><span class="token string">'Cannot specify a file without a key'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>argv<span class="token punctuation">.</span>f<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> context<span class="token punctuation">.</span><span class="token function">cliMessage</span><span class="token punctuation">(</span><span class="token string">'Cannot specify a key without a file'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment" spellcheck="true">// async validation</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>argv<span class="token punctuation">.</span>f<span class="token punctuation">,</span> <span class="token string">'utf8'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>err<span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
        data <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>data<span class="token punctuation">[</span>argv<span class="token punctuation">.</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token function">resolve</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span><span class="token function">cliMessage</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`File missing key </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>argv<span class="token punctuation">.</span>k<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        argv<span class="token punctuation">.</span>value <span class="token operator">=</span> data<span class="token punctuation">[</span>argv<span class="token punctuation">.</span>k<span class="token punctuation">]</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">parseAndExit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>argv <span class="token operator">=</span><span class="token operator">></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>argv<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<p><a name="command"></a></p>
<h2 id="command-dsl-opts"><a href="#command-dsl-opts" class="headerlink" title=".command(dsl, opts)"></a><code>.command(dsl, opts)</code></h2><p><sup>Since 1.0.0</sup></p>
<p>Add a command that should be executed when encountered during parsing.</p>
<ul>
<li><p>&nbsp;<code>dsl</code>: string or module/object, no default</p>
<p>If <code>dsl</code> is a string, it defines the canonical alias of the command and any positional arguments the command may accept. The first word in the string represents the canonical alias and any subsequent content will be treated as positional arguments.</p>
<p>If <code>dsl</code> is an object, the dsl string should be specified via the <code>flags</code> property (similar to other types).</p>
<p>If the canonical alias is <code>*</code>, the command will be considered a default command and will be hidden from help text unless a non-default alias is defined in <code>opts</code>.</p>
<p>Since the dsl string will be used in help text (by default), it may contain content that should not be treated as explicit positional args, as long as you specify the <code>ignore</code> option in <code>opts</code>.</p>
</li>
<li><p>&nbsp;<code>opts</code>: object or function, no default</p>
<p>If <code>opts</code> is an object, it defines configuration for the command.</p>
<p>If <code>opts</code> is a function, it specifies the <a href="/docs/command-run.html">run handler</a> of the command without any detailed configuration.</p>
<p>The following configuration properties are supported:</p>
<ul>
<li><code>flags</code>, <code>aliases</code>, <code>description</code>/<code>desc</code>, <code>hints</code>, <code>group</code>, <code>hidden</code> from <a href="/docs/type-properties.html">common type properties</a></li>
<li><code>ignore</code>: string or array of strings, words to ignore in the dsl string</li>
<li><code>params</code>: array of objects, used to configure each positional arg in dsl string, see <a href="#positional">positional</a> method</li>
<li><code>paramsDescription</code> or <code>paramsDesc</code>: string or array of strings, shortcut to add description for positional args without defining <code>params</code></li>
<li><code>paramsDsl</code>: string, this is mostly for internal use</li>
<li><code>paramsGroup</code>: string, the help text group header for positional args, default <code>&#39;Arguments:&#39;</code></li>
<li><code>setup</code>: function, defines the <a href="/docs/command-setup.html">setup handler</a></li>
<li><code>run</code>: function, defines the <a href="/docs/command-run.html">run handler</a></li>
</ul>
</li>
</ul>
<p>Returns the <code>Api</code> instance for method chaining.</p>
<p>Examples:</p>
<pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// inline simple</span>
sywac<span class="token punctuation">.</span><span class="token function">commmand</span><span class="token punctuation">(</span><span class="token string">'get &lt;key>'</span><span class="token punctuation">,</span> argv <span class="token operator">=</span><span class="token operator">></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`looking up key </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>argv<span class="token punctuation">.</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true">// inline advanced</span>
sywac<span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token string">'remote &lt;subcommand> [args]'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  desc<span class="token punctuation">:</span> <span class="token string">'Work with remotes via subcommand'</span><span class="token punctuation">,</span>
  ignore<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'&lt;subcommand>'</span><span class="token punctuation">,</span> <span class="token string">'[args]'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  setup<span class="token punctuation">:</span> sywac <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    sywac
      <span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token string">'add &lt;name> &lt;url>'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        desc<span class="token punctuation">:</span> <span class="token string">'Add a new remote'</span><span class="token punctuation">,</span>
        paramsDesc<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'The name of the remote'</span><span class="token punctuation">,</span> <span class="token string">'The url of the remote'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        run<span class="token punctuation">:</span> <span class="token punctuation">(</span>argv<span class="token punctuation">,</span> context<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">remoteExists</span><span class="token punctuation">(</span>argv<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> context<span class="token punctuation">.</span><span class="token function">cliMessage</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Remote </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>argv<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> already exists`</span></span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`adding remote </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>argv<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> with url </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>argv<span class="token punctuation">.</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token string">'prune [name=origin]'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        desc<span class="token punctuation">:</span> <span class="token string">'Remove stale remote tracking branches'</span><span class="token punctuation">,</span>
        paramsDesc<span class="token punctuation">:</span> <span class="token string">'Optionally specify the remote to prune'</span><span class="token punctuation">,</span>
        run<span class="token punctuation">:</span> argv <span class="token operator">=</span><span class="token operator">></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`pruning </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>argv<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true">// module</span>
sywac<span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./commands/install'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<p>Commands are a big topic. See <a href="/docs/command-type.html">Command</a> or any of the COMMANDS pages for further details and examples.</p>
<p><a name="configure"></a></p>
<h2 id="configure-opts"><a href="#configure-opts" class="headerlink" title=".configure(opts)"></a><code>.configure(opts)</code></h2><p><sup>Since 1.0.0</sup></p>
<p>Configure the <code>Api</code> instance directly.</p>
<ul>
<li><p>&nbsp;<code>opts</code>: object, no default</p>
<p>The following properties are supported:</p>
<ul>
<li><p>&nbsp;<code>name</code>: string, default is basename of <code>process.argv[1]</code></p>
<p>Explicitly define the name of the program to use in help text. This value will be used in place of <code>$0</code> in <a href="#usage">usage</a> content.</p>
</li>
<li><p>&nbsp;<code>factories</code>: object</p>
<p>Register factory methods for custom types. Each property should be the name of the factory and the factory function. See <a href="#registerFactory">registerFactory</a> method.</p>
</li>
<li><p>&nbsp;<code>utils</code>: object, default is an instance of <code>require(&#39;sywac/lib/utils&#39;)</code></p>
<p>Override functions defined in a utility class.</p>
</li>
</ul>
</li>
</ul>
<p>Returns the <code>Api</code> instance for method chaining.</p>
<p>Example:</p>
<pre class=" language-js"><code class="language-js">sywac<span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'example'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<p>See <a href="/docs/advanced-customizations.html">Advanced Customizations</a> for further details and examples.</p>
<p><a name="custom"></a></p>
<h2 id="custom-type"><a href="#custom-type" class="headerlink" title=".custom(type)"></a><code>.custom(type)</code></h2><p><sup>Since 1.0.0</sup></p>
<p>Add an instance of any <code>Type</code>, representing an expected option, argument, or command.</p>
<ul>
<li><p>&nbsp;<code>type</code>: instance of class extending <code>require(&#39;sywac/types/type&#39;)</code></p>
<p>The given object is expected to have certain methods, like <code>parse (context)</code>, conforming to the contract defined by the <code>Type</code> class. The easiest way to define a custom type is to extend one of the classes from <code>sywac/types</code>.</p>
</li>
</ul>
<p>Returns the <code>Api</code> instance for method chaining.</p>
<p>Example:</p>
<pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'url'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> TypeString <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'sywac/types/string'</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">BaseUrl</span> <span class="token keyword">extends</span> <span class="token class-name">TypeString</span> <span class="token punctuation">{</span>
  <span class="token keyword">get</span> datatype <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'baseurl'</span>
  <span class="token punctuation">}</span>
  getValue <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> v <span class="token operator">=</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>v<span class="token punctuation">)</span> <span class="token keyword">return</span> v
    <span class="token keyword">const</span> p <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'//'</span><span class="token punctuation">)</span> <span class="token operator">?</span> url<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token punctuation">:</span> url<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">'http://'</span> <span class="token operator">+</span> v<span class="token punctuation">)</span>
    <span class="token keyword">let</span> proto <span class="token operator">=</span> p<span class="token punctuation">.</span>protocol <span class="token operator">||</span> <span class="token string">'http:'</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>proto<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">'//'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> proto <span class="token operator">+</span><span class="token operator">=</span> <span class="token string">'//'</span>
    v <span class="token operator">=</span> proto <span class="token operator">+</span> <span class="token punctuation">(</span>p<span class="token punctuation">.</span>host <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>p<span class="token punctuation">.</span>pathname <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> v<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span> <span class="token operator">?</span> v<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> v
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
sywac<span class="token punctuation">.</span><span class="token function">custom</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BaseUrl</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  flags<span class="token punctuation">:</span> <span class="token string">'-u, --url &lt;baseurl>'</span><span class="token punctuation">,</span>
  desc<span class="token punctuation">:</span> <span class="token string">'A base url i.e. [protocol://]host[:port][/path]'</span><span class="token punctuation">,</span>
  defaultValue<span class="token punctuation">:</span> <span class="token string">'localhost:8080'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<p>See <a href="/docs/custom-types.html">Custom Types</a> for further details and examples.</p>
<p><a name="dir"></a></p>
<h2 id="dir-flags-opts"><a href="#dir-flags-opts" class="headerlink" title=".dir(flags, opts)"></a><code>.dir(flags, opts)</code></h2><p><sup>Since 1.0.0</sup></p>
<p>Add a flagged option that should be parsed as a directory path.</p>
<p>This is equivalent to calling <code>.path(flags, Object.assign({ fileAllowed: false }, opts))</code></p>
<ul>
<li><p>&nbsp;<code>flags</code>: string, no default</p>
<p>Defines the flags used in help text and aliases to expect when parsing.</p>
<p>For example, <code>&#39;-d, --dir &lt;directory&gt;&#39;</code> would allow <code>-d</code> or <code>--dir</code> to be given when parsing.</p>
</li>
<li><p>&nbsp;<code>opts</code>: object, no default</p>
<p>See <a href="#path">path</a> method for list of supported properties.</p>
</li>
</ul>
<p>Returns the <code>Api</code> instance for method chaining.</p>
<p>Example:</p>
<pre class=" language-js"><code class="language-js">sywac<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span><span class="token string">'-d, --dir &lt;directory>'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  desc<span class="token punctuation">:</span> <span class="token string">'A directory that must exist on the local file system'</span><span class="token punctuation">,</span>
  mustExist<span class="token punctuation">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<p>See <a href="/docs/path-type.html">Path / File / Dir</a> for further details and examples.</p>
<p><a name="enumeration"></a></p>
<h2 id="enumeration-flags-opts"><a href="#enumeration-flags-opts" class="headerlink" title=".enumeration(flags, opts)"></a><code>.enumeration(flags, opts)</code></h2><blockquote>
<p>Needs docs!</p>
</blockquote>
<p><a name="epilogue"></a></p>
<h2 id="epilogue-epilogue"><a href="#epilogue-epilogue" class="headerlink" title=".epilogue(epilogue)"></a><code>.epilogue(epilogue)</code></h2><blockquote>
<p>Needs docs!</p>
</blockquote>
<p><a name="example"></a></p>
<h2 id="example-example-opts"><a href="#example-example-opts" class="headerlink" title=".example(example, opts)"></a><code>.example(example, opts)</code></h2><blockquote>
<p>Needs docs!</p>
</blockquote>
<p><a name="exampleOrder"></a></p>
<h2 id="exampleOrder-orderArray"><a href="#exampleOrder-orderArray" class="headerlink" title=".exampleOrder(orderArray)"></a><code>.exampleOrder(orderArray)</code></h2><blockquote>
<p>Needs docs!</p>
</blockquote>
<p><a name="file"></a></p>
<h2 id="file-flags-opts"><a href="#file-flags-opts" class="headerlink" title=".file(flags, opts)"></a><code>.file(flags, opts)</code></h2><blockquote>
<p>Needs docs!</p>
</blockquote>
<p><a name="groupOrder"></a></p>
<h2 id="groupOrder-orderArray"><a href="#groupOrder-orderArray" class="headerlink" title=".groupOrder(orderArray)"></a><code>.groupOrder(orderArray)</code></h2><blockquote>
<p>Needs docs!</p>
</blockquote>
<p><a name="help"></a></p>
<h2 id="help-flags-opts"><a href="#help-flags-opts" class="headerlink" title=".help(flags, opts)"></a><code>.help(flags, opts)</code></h2><blockquote>
<p>Needs docs!</p>
</blockquote>
<p><a name="number"></a></p>
<h2 id="number-flags-opts"><a href="#number-flags-opts" class="headerlink" title=".number(flags, opts)"></a><code>.number(flags, opts)</code></h2><blockquote>
<p>Needs docs!</p>
</blockquote>
<p><a name="numberArray"></a></p>
<h2 id="numberArray-flags-opts"><a href="#numberArray-flags-opts" class="headerlink" title=".numberArray(flags, opts)"></a><code>.numberArray(flags, opts)</code></h2><blockquote>
<p>Needs docs!</p>
</blockquote>
<p><a name="option"></a></p>
<h2 id="option-flags-opts"><a href="#option-flags-opts" class="headerlink" title=".option(flags, opts)"></a><code>.option(flags, opts)</code></h2><blockquote>
<p>Needs docs!</p>
</blockquote>
<p><a name="outputSettings"></a></p>
<h2 id="outputSettings-settings"><a href="#outputSettings-settings" class="headerlink" title=".outputSettings(settings)"></a><code>.outputSettings(settings)</code></h2><blockquote>
<p>Needs docs!</p>
</blockquote>
<p><a name="path"></a></p>
<h2 id="path-flags-opts"><a href="#path-flags-opts" class="headerlink" title=".path(flags, opts)"></a><code>.path(flags, opts)</code></h2><blockquote>
<p>Needs docs!</p>
</blockquote>
<p><a name="positional"></a></p>
<h2 id="positional-dsl-opts"><a href="#positional-dsl-opts" class="headerlink" title=".positional(dsl, opts)"></a><code>.positional(dsl, opts)</code></h2><blockquote>
<p>Needs docs!</p>
</blockquote>
<p><a name="preface"></a></p>
<h2 id="preface-icon-slogan"><a href="#preface-icon-slogan" class="headerlink" title=".preface(icon, slogan)"></a><code>.preface(icon, slogan)</code></h2><blockquote>
<p>Needs docs!</p>
</blockquote>
<p><a name="registerFactory"></a></p>
<h2 id="registerFactory-name-factory"><a href="#registerFactory-name-factory" class="headerlink" title=".registerFactory(name, factory)"></a><code>.registerFactory(name, factory)</code></h2><blockquote>
<p>Needs docs!</p>
</blockquote>
<p><a name="showHelpByDefault"></a></p>
<h2 id="showHelpByDefault-boolean"><a href="#showHelpByDefault-boolean" class="headerlink" title=".showHelpByDefault(boolean)"></a><code>.showHelpByDefault(boolean)</code></h2><blockquote>
<p>Needs docs!</p>
</blockquote>
<p><a name="string"></a></p>
<h2 id="string-flags-opts"><a href="#string-flags-opts" class="headerlink" title=".string(flags, opts)"></a><code>.string(flags, opts)</code></h2><blockquote>
<p>Needs docs!</p>
</blockquote>
<p><a name="stringArray"></a></p>
<h2 id="stringArray-flags-opts"><a href="#stringArray-flags-opts" class="headerlink" title=".stringArray(flags, opts)"></a><code>.stringArray(flags, opts)</code></h2><blockquote>
<p>Needs docs!</p>
</blockquote>
<p><a name="style"></a></p>
<h2 id="style-hooks"><a href="#style-hooks" class="headerlink" title=".style(hooks)"></a><code>.style(hooks)</code></h2><blockquote>
<p>Needs docs!</p>
</blockquote>
<p><a name="usage"></a></p>
<h2 id="usage-usage"><a href="#usage-usage" class="headerlink" title=".usage(usage)"></a><code>.usage(usage)</code></h2><blockquote>
<p>Needs docs!</p>
</blockquote>
<p><a name="version"></a></p>
<h2 id="version-flags-opts"><a href="#version-flags-opts" class="headerlink" title=".version(flags, opts)"></a><code>.version(flags, opts)</code></h2><blockquote>
<p>Needs docs!</p>
</blockquote>

  <!-- end "page.content" in page.ejs -->
  
  <div class="docs-prevnext">
    
    <a class="docs-prev" href="/docs/api-and-types.html">← Previous</a>
    
    
    <a class="docs-next" href="/docs/async-parsing.html">Next →</a>
    
  </div>
  
</div>

      <!-- end "body" in layout.ejs -->
      
      <div class="nav-docs">
  <div class="nav-docs-section">
    <h3>General API</h3>
    <ul>
      <li><a style="margin-left:0;" class="" href="/docs">Quick Start Guide</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/api-and-types.html">API Instance and Types</a></li>
      <li><a style="margin-left:0;" class="active" href="/docs/sync-config.html">Synchronous Configuration</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/async-parsing.html">Asynchronous Parsing, Validation, Execution</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/help-text.html">Help Text</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/style-hooks.html">Style Hooks</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/error-handling.html">Error Handling</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/concurrency.html">Concurrency</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/context.html">Context</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/advanced-customizations.html">Advanced Customizations</a></li>
    </ul>
  </div>
  <div class="nav-docs-section">
    <h3>Types</h3>
    <ul>
      <li><a style="margin-left:0;" class="" href="/docs/info-types.html">General Type Info</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/type-lifecycle.html">Type Lifecycle</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/type-properties.html">Common Type Properties</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/boolean-type.html">Boolean</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/help-version-type.html">Help and Version</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/number-type.html">Number</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/string-type.html">String</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/path-type.html">Path / File / Dir</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/enum-type.html">Enum</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/array-type.html">Array</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/unknown-type.html">"Unknown" Type</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/positional-type.html">Positionals</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/command-type.html">Commands</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/custom-types.html">Custom Types</a></li>
    </ul>
  </div>
  <div class="nav-docs-section">
    <h3>Commands</h3>
    <ul>
      <li><a style="margin-left:0;" class="" href="/docs/command-lifecycle.html">Command Lifecycle</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/command-positionals.html">With Positionals</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/command-setup.html">Synchronous Setup Handler</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/command-run.html">Asynchronous Run Handler</a></li>
      <li><a style="margin-left:0;" class="" href="/docs/command-modules.html">Command Modules</a></li>
    </ul>
  </div>
</div>

      
    </section>
    <footer>
  <span>See an error? <a href="https://github.com/sywac/sywac-website/tree/master/source/docs/sync-config.md">Contribute to this docs site!</a></span>
  <span>Made with ♡ by <a href="https://github.com/nexdrew">nexdrew</a></span>
</footer>

  </div>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-102241941-1', 'auto');
    ga('send', 'pageview');
  </script>
</body>
</html>
